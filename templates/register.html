<!DOCTYPE html>
<html>
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

{% include "navbar.html" %}

<div class="container mt-5">
<div class="card mx-auto p-4 shadow" style="width:350px;">

<h4 class="text-center">Register</h4>

<input id="username" class="form-control mt-2" placeholder="Username">
<input id="email" class="form-control mt-2" placeholder="Email">
<input id="password" type="password" class="form-control mt-2" placeholder="Password">

<button onclick="register()" class="btn btn-success w-100 mt-3">Register</button>

<p id="msg" class="text-center mt-3"></p>
<p class="text-center"><a href="/login">Go to Login</a></p>

</div>
</div>

<script>
function register(){
fetch("/api/register",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
username:username.value,
email:email.value,
password:password.value
})
}).then(r=>r.json()).then(d=>{
msg.innerText = d.message || d.error;
});
}
</script>

</body>
</html>
